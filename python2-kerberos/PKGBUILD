# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>
# Contributor: Gris Ge <cnfourt@gmail.com>

pkgname=python2-kerberos
pkgver=1.1
pkgrel=2
pkgdesc="A high-level wrapper for Kerberos (GSSAPI) operations"
arch=('i686' 'x86_64')
url="http://trac.calendarserver.org/browser/PyKerberos"
license=('ASL 2.0')
depends=('python2' 'krb5')
makedepends=('python2-distribute' 'svn')
source=('PyKerberos-delegation.patch')
sha512sums=('3eafe36f4f5fdd99c3511e3fa3fdc83bec25d5e0d302ec8968b23136beb5a1a6bd69f56af84cbdc151485a59c300c654830390030de5237c189e1df3265653b7')

build() {
  cd "${srcdir}/"
  svn --force export http://svn.calendarserver.org/repository/calendarserver/PyKerberos/tags/release/PyKerberos-${pkgver}/ python-kerberos-${pkgver}
  cd python-kerberos-${pkgver}/
  patch -p1 -i ${srcdir}/PyKerberos-delegation.patch
  python2 setup.py build
}

package() {
  cd "${srcdir}/python-kerberos-${pkgver}/"
  python2 setup.py install --skip-build --root "${pkgdir}"
}

# vim:set ts=2 sw=2 et:
